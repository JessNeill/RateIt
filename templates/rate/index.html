{% extends 'rate/base.html' %}
{% load static %}

{% block title_block %}Homepage{% endblock %}

{% block body_block %}
<!-- Your styles and HTML structure here -->
<style>
    * {
      box-sizing: border-box;
    }

    .column {
      float: left;
      width: 250px;
      padding: 5px;
    }

    .row::after {
      content: "";
      clear: both;
      display: table;
    }

</style>

<h2>Most Popular Movies</h2>
<div class="row">
    {% for movie in top_movies %}
        <div class="column">
            <h4>{{ movie.title }}</h4>
            <p>Average Rating: {{ movie.avg_rating }}</p>
            {% if movie.image_url %}
                <img src="{{ movie.image_url }}" alt="{{ movie.title }} Poster" style="width: 100%; height: 275;">
            {% else %}
                <p>No image available.</p>
            {% endif %}
        </div>
    {% endfor %}
</div>

<h2>Most Popular Book</h2>
<div class="row">
    {% for book in top_books %}
        <div class="column">
            <h4>{{ book.title }}</h4>
            <p>Average Rating: {{ book.avg_rating }}</p>
            {% if book.image_url %}
                <img src="{{ book.image_url }}" alt="{{ book.title }} Cover" style="width: 100%; height: 275;">
            {% else %}
                <p>No image available.</p>
            {% endif %}
        </div>
    {% endfor %}
</div>
{% endblock %}
